function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,function(){return this});var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){define(prototype,method,function(arg){return this._invoke(method,arg)})})}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==_typeof(value)&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},function(error){return invoke("throw",error,resolve,reject)})}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(undefined===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;){if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next}return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,function(){return this}),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,function(){return this}),define(Gp,"toString",function(){return"[object Generator]"}),exports.keys=function(object){var keys=[];for(var key in object){keys.push(key)}return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this){"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)}},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}},exports}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}var HOST="http://localhost:3000";var COLOR_2="#564fff";// HEADER
// Login visualization in header when visiting the site
document.addEventListener("DOMContentLoaded",function(){if(localStorage.getItem("isLoggedIn")==="true"){doLogin();checkToken()}});function checkToken(){fetch("".concat(HOST,"/api/check_token"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(res){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(res.status!==200){localStorage.setItem("isLoggedIn","false");doExit()}case 1:case"end":return _context.stop();}}},_callee)}));return function(_x){return _ref.apply(this,arguments)}}())}// Show contacts
var $body=document.querySelector("body");var $HeaderContactsBtn=$body.querySelector(".left-row__state-btn");var $HeaderContactsList=$body.querySelector(".left-row__state-list");$HeaderContactsBtn.addEventListener("click",function(){$HeaderContactsList.classList.toggle("_shown")});window.addEventListener("click",function(event){if($HeaderContactsList.classList.contains("_shown")){if(!(event.target.closest(".left-row__state-list")||event.target.closest(".left-row__state-btn"))){$HeaderContactsList.classList.remove("_shown")}}});// Languages
var $headerLanguage=$body.querySelector(".header__languages");var $headerLanguageEn=$body.querySelector(".header__languages .languages__en");var $headerLanguageRu=$body.querySelector(".header__languages .languages__ru");var currentLanguage=localStorage.getItem("currentLanguage")||"en";languageChanges();$headerLanguage.addEventListener("click",function(){if(currentLanguage==="en"){localStorage.setItem("currentLanguage","ru");currentLanguage="ru";$headerLanguageEn.classList.remove("languages__selected");$headerLanguageEn.classList.add("languages__not-selected");$headerLanguageRu.classList.remove("languages__not-selected");$headerLanguageRu.classList.add("languages__selected")}else{localStorage.setItem("currentLanguage","en");currentLanguage="en";$headerLanguageRu.classList.remove("languages__selected");$headerLanguageRu.classList.add("languages__not-selected");$headerLanguageEn.classList.remove("languages__not-selected");$headerLanguageEn.classList.add("languages__selected")}languageChanges()});function languageChanges(){var $enTextArray=$body.querySelectorAll(".en");var $ruTextArray=$body.querySelectorAll(".ru");if(currentLanguage==="en"){$enTextArray.forEach(function($item){$item.classList.add("_show");if($item.classList.contains("_hide")){$item.classList.remove("_hide")}});$ruTextArray.forEach(function($item){$item.classList.add("_hide");if($item.classList.contains("_show")){$item.classList.remove("_show")}})}else{$ruTextArray.forEach(function($item){$item.classList.add("_show");if($item.classList.contains("_hide")){$item.classList.remove("_hide")}});$enTextArray.forEach(function($item){$item.classList.add("_hide");if($item.classList.contains("_show")){$item.classList.remove("_show")}})}}// Adoptive
var $headerBurgerButton=$body.querySelector(".burger__button");var $headerBurgerList=$body.querySelector(".burger__list");var $headerRightRow=$body.querySelector(".right-row");var $headerRightRowReg=$headerRightRow.querySelector(".right-row__reg");var $headerRightRowLog=$headerRightRow.querySelector(".right-row__log");var $headerRightRowExit=$headerRightRow.querySelector(".right-row__exit");var $headerRightRowAccount=$headerRightRow.querySelector(".right-row__account");var $headerLeftRow=$body.querySelector(".left-row");var $headerLeftRowLogo=$headerLeftRow.querySelector(".left-row__logo");var $headerLeftRowTlg=$headerLeftRow.querySelector(".left-row__tlg");var $headerLeftRowChat=$headerLeftRow.querySelector(".left-row__chat");var $HeaderLeftRowContacts=$headerLeftRow.querySelector(".left-row__state");if(document.documentElement.clientWidth<=608){headerAdoptiveLess880();headerAdoptiveLess608()}else if(document.documentElement.clientWidth<=880){headerAdoptiveLess880()}window.addEventListener("resize",function(){if(document.documentElement.clientWidth<=608){if($headerRightRowReg.closest(".burger__list")&&!$HeaderLeftRowContacts.closest(".burger__list")){headerAdoptiveLess608()}else if(!$headerRightRowReg.closest(".burger__list")){headerAdoptiveLess880();headerAdoptiveLess608()}}else if(document.documentElement.clientWidth<=880){if($HeaderLeftRowContacts.closest(".burger__list")){headerAdoptiveMore608()}else if(!$headerRightRowReg.closest(".burger__list")){headerAdoptiveLess880()}}else{if($headerRightRowReg.closest(".burger__list")&&!$HeaderLeftRowContacts.closest(".burger__list")){headerAdoptiveMore880()}else if($HeaderLeftRowContacts.closest(".burger__list")){headerAdoptiveMore608();headerAdoptiveMore880()}}});function headerAdoptiveLess880(){$headerBurgerList.append($headerRightRowReg);$headerBurgerList.append($headerRightRowLog);$headerBurgerList.append($headerRightRowExit);$headerBurgerList.append($headerRightRowAccount);$headerBurgerList.append($headerLeftRowTlg);$headerBurgerList.append($headerLeftRowChat);$headerRightRowReg.classList.add("burger__item");$headerRightRowLog.classList.add("burger__item");$headerRightRowExit.classList.add("burger__item");$headerRightRowAccount.classList.add("burger__item");$headerLeftRowTlg.classList.add("burger__item");$headerLeftRowChat.classList.add("burger__item")}function headerAdoptiveMore880(){$headerRightRow.append($headerRightRowReg);$headerRightRow.append($headerRightRowLog);$headerRightRow.append($headerRightRowExit);$headerRightRow.append($headerRightRowAccount);$headerLeftRow.append($headerLeftRowTlg);$headerLeftRow.append($headerLeftRowChat);$headerRightRowReg.classList.remove("burger__item");$headerRightRowLog.classList.remove("burger__item");$headerRightRowExit.classList.remove("burger__item");$headerRightRowAccount.classList.remove("burger__item");$headerLeftRowTlg.classList.remove("burger__item");$headerLeftRowChat.classList.remove("burger__item")}function headerAdoptiveLess608(){$headerBurgerList.append($HeaderLeftRowContacts);$HeaderLeftRowContacts.classList.add("burger__item")}function headerAdoptiveMore608(){$headerLeftRowLogo.after($HeaderLeftRowContacts);$HeaderLeftRowContacts.classList.remove("burger__item")}// Show burger list
$headerBurgerButton.addEventListener("click",function(){$headerBurgerList.classList.toggle("_show");if($headerBurgerList.classList.contains("_show")){$body.classList.add("_lock")}else{$body.classList.remove("_lock")}});window.addEventListener("click",function(event){if($headerBurgerList.classList.contains("_show")){if(!event.target.closest(".burger")&&!event.target.closest(".header__sign-up-popup")){$headerBurgerList.classList.remove("_show");$body.classList.remove("_lock")}}});// Establishing a position burger list
$headerBurgerList.style.top="".concat(70-document.documentElement.scrollTop,"px");window.addEventListener("scroll",function(){$headerBurgerList.style.top="".concat(70-document.documentElement.scrollTop,"px")});// SIGN UP
// Set width sign up
var $headerSignUpPopup=document.querySelector(".header__sign-up-popup");window.addEventListener("resize",function(){$headerSignUpPopup.style.width="".concat($body.clientWidth,"px")});// Show sign up popup
//? $headerRightRowReg;
var $headerSignUpCloseBtn=$headerSignUpPopup.querySelector(".sign-up__close");$headerRightRowReg.addEventListener("click",function(){$headerSignUpPopup.classList.toggle("_show");if($headerSignUpPopup.classList.contains("_show")){$body.classList.add("_lock")}else{$body.classList.remove("_lock")}});window.addEventListener("click",function(event){if($headerSignUpPopup.classList.contains("_show")){if(!event.target.closest(".sign-up__container")&&!event.target.closest(".right-row__reg")){$headerSignUpPopup.classList.remove("_show");$body.classList.remove("_lock")}}});$headerSignUpCloseBtn.addEventListener("click",function(){if($headerSignUpPopup.classList.contains("_show")){$headerSignUpPopup.classList.remove("_show");$body.classList.remove("_lock")}});// Set position sign up
var $headerSignUpContainer=$headerSignUpPopup.querySelector(".sign-up__container");if($headerSignUpContainer.clientHeight+40>window.innerHeight){$headerSignUpPopup.style.alignItems="flex-start";$headerSignUpPopup.style.marginTop="20px"}else{$headerSignUpPopup.style.alignItems="center";$headerSignUpPopup.style.marginTop="0"}window.addEventListener("resize",function(){if($headerSignUpContainer.clientHeight+40>window.innerHeight){$headerSignUpPopup.style.alignItems="flex-start";$headerSignUpPopup.style.marginTop="20px"}else{$headerSignUpPopup.style.alignItems="center";$headerSignUpPopup.style.marginTop="0"}});// Register form Validation
var $headerSignUpFormReg=$headerSignUpPopup.querySelector(".sign-up__form-registration");var $headerSignUpEmail=$headerSignUpFormReg.querySelector(".sign-up__email");var $headerSignUpNickname=$headerSignUpFormReg.querySelector(".sign-up__nickname");var $headerSignUpTlg=$headerSignUpFormReg.querySelector(".sign-up__tlg");var $headerSignUpPassword=$headerSignUpFormReg.querySelector(".sign-up__password");var $headerSignUpRepeatPassword=$headerSignUpFormReg.querySelector(".sign-up__repeat-password");var $headerSignUpErrorMessage=$headerSignUpFormReg.querySelector(".sign-up__reg-error-message");var $headerSignUpRegistration=$headerSignUpContainer.querySelector(".sign-up__registration");var $headerSignUpActivation=$headerSignUpContainer.querySelector(".sign-up__activation");var $headerSignUpBackBtn=$headerSignUpContainer.querySelector(".sign-up__back");var $headerSignUpSubtitle=$headerSignUpContainer.querySelector(".sign-up__subtitle");var $headerSignUpReorderBtn=$headerSignUpContainer.querySelector(".sign-up__reorder");var $headerSignUpReorderCounter=$headerSignUpContainer.querySelector(".sign-up__reorder-counter");var userEmail="";$headerSignUpFormReg.addEventListener("submit",function(event){event.preventDefault();var errorMessage="";if(!/^(((?:(?![\t-\r "\(\),\.:-<>@\[\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])+(\.(?:(?![\t-\r "\(\),\.:-<>@\[\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])+)*)|("(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+"))@(((?:(?![\t-\r "\(\),\.:-<>@\[\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S])+\.)+(?:(?![\t-\r "\(\),\.:-<>@\[\]\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])[\s\S]){2,})$/i.test($headerSignUpEmail.value)){$headerSignUpEmail.style.border="1px solid red";errorMessage=errorMessage?errorMessage:currentLanguage==="en"?"Incorrect email":"\u041D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u0430\u044F \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430\u044F \u043F\u043E\u0447\u0442\u0430"}if(!/^[a-zA-Z][a-zA-Z0-9-_\.]{1,20}$/.test($headerSignUpNickname.value)){$headerSignUpNickname.style.border="1px solid red";errorMessage=errorMessage?errorMessage:currentLanguage==="en"?"The nickname must start with a Latin letter, contain only Latin letters and numbers, and may contain the symbols -,_,.":"\u041D\u0438\u043A\u043D\u0435\u0439\u043C \u0434\u043E\u043B\u0436\u0435\u043D \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 \u043B\u0430\u0442\u0438\u043D\u0441\u043A\u043E\u0439 \u0431\u0443\u043A\u0432\u044B, \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u0442\u043E\u043B\u044C\u043A\u043E \u043B\u0430\u0442\u0438\u043D\u0441\u043A\u0438\u0435 \u0431\u0443\u043A\u0432\u044B \u0438 \u0446\u0438\u0444\u0440\u044B, \u043C\u043E\u0436\u0435\u0442 \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u0441\u0438\u043C\u0432\u043E\u043B\u044B -,_,."}if(!stringLengthCheck($headerSignUpNickname.value,6)){$headerSignUpNickname.style.border="1px solid red";errorMessage=errorMessage?errorMessage:currentLanguage==="en"?"Nickname less than 6 characters":"\u041D\u0438\u043A\u043D\u0435\u0439\u043C \u043C\u0435\u043D\u044C\u0448\u0435 6 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"}if(!/^[@]{1}[^а-яё]+$/.test($headerSignUpTlg.value)){$headerSignUpTlg.style.border="1px solid red";errorMessage=errorMessage?errorMessage:currentLanguage==="en"?"Incorrect telegram":"\u041D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 \u0442\u0435\u043B\u0435\u0433\u0440\u0430\u043C"}if(!stringLengthCheck($headerSignUpTlg.value,2)){$headerSignUpTlg.style.border="1px solid red";errorMessage=errorMessage?errorMessage:currentLanguage==="en"?"Telegram less than 2 characters":"\u0422\u0435\u043B\u0435\u0433\u0440\u0430\u043C \u043C\u0435\u043D\u044C\u0448\u0435 2 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"}if(!/^(?=.*\d)(?=.*[a-zA-Z])(?!.*\s).*$/.test($headerSignUpPassword.value)){$headerSignUpPassword.style.border="1px solid red";$headerSignUpRepeatPassword.style.border="1px solid red";errorMessage=errorMessage?errorMessage:currentLanguage==="en"?"Password must contain latin letters and numbers":"\u041F\u0430\u0440\u043E\u043B\u044C \u0434\u043E\u043B\u0436\u0435\u043D \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u043B\u0430\u0442\u0438\u043D\u0441\u043A\u0438\u0435 \u0431\u0443\u043A\u0432\u044B \u0438 \u0446\u0438\u0444\u0440\u044B"}if(!stringLengthCheck($headerSignUpPassword.value,6)){$headerSignUpPassword.style.border="1px solid red";$headerSignUpRepeatPassword.style.border="1px solid red";errorMessage=errorMessage?errorMessage:currentLanguage==="en"?"Password less than 6 characters":"\u041F\u0430\u0440\u043E\u043B\u044C \u043C\u0435\u043D\u044C\u0448\u0435 6 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"}if($headerSignUpPassword.value!==$headerSignUpRepeatPassword.value){$headerSignUpPassword.style.border="1px solid red";$headerSignUpRepeatPassword.style.border="1px solid red";errorMessage=errorMessage?errorMessage:currentLanguage==="en"?"Passwords do not match":"\u041F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u044E\u0442"}if(errorMessage){$headerSignUpErrorMessage.textContent=errorMessage}else{if($headerSignUpErrorMessage.textContent){$headerSignUpErrorMessage.textContent=""}// Query send for register
fetch("".concat(HOST,"/api/send_email_code"),{method:"POST",body:JSON.stringify({email:$headerSignUpEmail.value,nickname:$headerSignUpNickname.value,tlg:$headerSignUpTlg.value,pass:$headerSignUpPassword.value}),headers:{"Content-Type":"application/json"}}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(res){var status,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:status=res.status;_context2.next=3;return res.json();case 3:data=_context2.sent;if(status!==200){try{$headerSignUpErrorMessage.textContent=currentLanguage==="en"?data.en:data.ru}catch(error){console.error("Error: "+error)}}else{userEmail=$headerSignUpEmail.value;$headerSignUpEmail.value="";$headerSignUpNickname.value="";$headerSignUpTlg.value="";$headerSignUpPassword.value="";$headerSignUpRepeatPassword.value="";$headerSignUpEmail.style.border="2px solid ".concat(COLOR_2);$headerSignUpNickname.style.border="2px solid ".concat(COLOR_2);$headerSignUpTlg.style.border="2px solid ".concat(COLOR_2);$headerSignUpPassword.style.border="2px solid ".concat(COLOR_2);$headerSignUpRepeatPassword.style.border="2px solid ".concat(COLOR_2);$headerSignUpRegistration.classList.add("_hidden");$headerSignUpActivation.classList.add("_shown");$headerSignUpBackBtn.classList.add("_shown");$headerSignUpCodeError.textContent=currentLanguage==="en"?data.en:data.ru;$headerSignUpSubtitle.textContent=currentLanguage==="en"?"Email with code sent ".concat(userEmail):"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 \u0441 \u043A\u043E\u0434\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E \u043D\u0430 \u043F\u043E\u0447\u0442\u0443 ".concat(userEmail);makeSendButtonInactive()}case 5:case"end":return _context2.stop();}}},_callee2)}));return function(_x2){return _ref2.apply(this,arguments)}}())}});// Remove red border by focus registration input
removeRedBorder($headerSignUpEmail);removeRedBorder($headerSignUpNickname);removeRedBorder($headerSignUpTlg);removeRedBorder($headerSignUpPassword);removeRedBorder($headerSignUpRepeatPassword);function removeRedBorder($input){$input.addEventListener("focus",function(){$input.style.border="2px solid ".concat(COLOR_2)})}function stringLengthCheck(str,len){return str.length>=len}// Return to the registration form on the button
$headerSignUpBackBtn.addEventListener("click",function(){$headerSignUpRegistration.classList.remove("_hidden");$headerSignUpActivation.classList.remove("_shown");$headerSignUpBackBtn.classList.remove("_shown")});// Send email-code again
var $headerSignUpFormActv=$headerSignUpPopup.querySelector(".sign-up__form-activation");var $headerSignUpCodeInput=$headerSignUpFormActv.querySelector(".sign-up__code");var $headerSignUpCodeError=$headerSignUpFormActv.querySelector(".sign-up__code-error-message");$headerSignUpReorderBtn.addEventListener("click",function(){if(!$headerSignUpReorderBtn.classList.contains("_disables")){var counter=makeSendButtonInactive();fetch("".concat(HOST,"/api/send_code_again"),{method:"POST",body:JSON.stringify({email:userEmail}),headers:{"Content-Type":"application/json"}}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(res){var status,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:status=res.status;_context3.next=3;return res.json();case 3:data=_context3.sent;if(status!==200){try{$headerSignUpCodeError.textContent=currentLanguage==="en"?data.en:data.ru;clearInterval(counter);$headerSignUpReorderCounter.textContent="";$headerSignUpReorderBtn.classList.remove("_disabled")}catch(error){console.error("Error: "+error)}}case 5:case"end":return _context3.stop();}}},_callee3)}));return function(_x3){return _ref3.apply(this,arguments)}}())}});// Activation form Validation
$headerSignUpFormActv.addEventListener("submit",function(event){event.preventDefault();if(!/^[0-9]{6}$/.test($headerSignUpCodeInput.value)){$headerSignUpCodeInput.style.border="1px solid red";$headerSignUpCodeError.textContent=currentLanguage==="en"?"Incorrect code":"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u043A\u043E\u0434"}else{fetch("".concat(HOST,"/api/sign_in"),{method:"POST",credentials:"include",body:JSON.stringify({email:userEmail,code:$headerSignUpCodeInput.value}),headers:{"Content-Type":"application/json"}}).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(res){var status,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:status=res.status;_context4.next=3;return res.json();case 3:data=_context4.sent;if(status!==200){try{$headerSignUpCodeError.textContent=currentLanguage==="en"?data.en:data.ru}catch(error){console.error("Error: "+error)}}else{//! Сохранение токена
localStorage.setItem("isLoggedIn","true");doLogin();$headerSignUpCodeInput.value="";$headerSignUpCodeInput.style.border="2px solid ".concat(COLOR_2);$headerSignUpCodeError.textContent="";$headerSignUpRegistration.classList.remove("_hidden");$headerSignUpActivation.classList.remove("_shown");$headerSignUpBackBtn.classList.remove("_shown");$headerSignUpPopup.classList.remove("_show");$body.classList.remove("_lock")}case 5:case"end":return _context4.stop();}}},_callee4)}));return function(_x4){return _ref4.apply(this,arguments)}}())}});// Make the send button inactive
function makeSendButtonInactive(){$headerSignUpReorderBtn.classList.add("_disabled");var countOfSeconsd=2*60;$headerSignUpReorderCounter.textContent="".concat(Math.floor(countOfSeconsd/60),":").concat(countOfSeconsd%60>9?countOfSeconsd%60:"0"+countOfSeconsd%60);var interval=setInterval(function(){countOfSeconsd-=1;if(!countOfSeconsd){clearInterval(interval);$headerSignUpReorderCounter.textContent="";$headerSignUpReorderBtn.classList.remove("_disabled")}else{$headerSignUpReorderCounter.textContent="".concat(Math.floor(countOfSeconsd/60),":").concat(countOfSeconsd%60>9?countOfSeconsd%60:"0"+countOfSeconsd%60)}},1000);return interval}// Remove red border and clean error message by focus
$headerSignUpCodeInput.addEventListener("focus",function(){$headerSignUpCodeInput.style.border="2px solid ".concat(COLOR_2);$headerSignUpCodeError.textContent=""});// Exit visualization in header by button
$headerRightRowExit.addEventListener("click",function(){localStorage.setItem("isLoggedIn","false");doExit()});// Login visualization in header
function doLogin(){$headerRightRowReg.classList.add("_hidden");$headerRightRowLog.classList.add("_hidden");$headerRightRowExit.classList.add("_shown");$headerRightRowAccount.classList.add("_shown")}// Exit visualization in header
function doExit(){$headerRightRowReg.classList.remove("_hidden");$headerRightRowLog.classList.remove("_hidden");$headerRightRowExit.classList.remove("_shown");$headerRightRowAccount.classList.remove("_shown")}// PRODUCTS
// Adding slider functionality
var priceForOneLevelInRub=70;var priceForOneLevelInUsd=1;for(var i=0;i<$body.querySelectorAll(".product .product-card").length;i++){var $productCards=$body.querySelectorAll("#product_card_form_".concat(String(i+1)));$productCards.forEach(function($item){addingSliderFunctionality($item)})}function addingSliderFunctionality($form){var $input=$form.querySelector(".product-card__levels-input");var $output=$form.querySelector(".product-card__levels-output");var $value=$form.querySelector(".product-card__price-value");$value.textContent=currentLanguage==="en"?$input.value*priceForOneLevelInUsd:$input.value*priceForOneLevelInRub;$headerLanguage.addEventListener("click",function(){$value.textContent=currentLanguage==="en"?$input.value*priceForOneLevelInUsd:$input.value*priceForOneLevelInRub});$input.addEventListener("input",function(){$output.textContent=$input.value;$value.textContent=currentLanguage==="en"?$input.value*priceForOneLevelInUsd:$input.value*priceForOneLevelInRub})}// REVIEW 
//Review slider
var $content=$body.querySelector(".content");var $reviewContentContainer=$body.querySelector(".reviews__content-container");var $reviewsArray=$reviewContentContainer.querySelectorAll(".review");var countReview=$reviewsArray.length;var contentWidth=$content.clientWidth-30;var reviewWidth=$reviewsArray[0].clientWidth;var countReviewInContainer=contentWidth%reviewWidth/(Math.floor(contentWidth/reviewWidth)-1)>=10?Math.floor(contentWidth/reviewWidth):Math.floor(contentWidth/reviewWidth)-1;var reviewGap=(contentWidth-reviewWidth*countReviewInContainer)/(countReviewInContainer-1)<25?(contentWidth-reviewWidth*countReviewInContainer)/(countReviewInContainer-1):25;var sidePadding=(contentWidth-(countReviewInContainer*reviewWidth+reviewGap*(countReviewInContainer-1)))/2;$reviewContentContainer.style.width="".concat(contentWidth-sidePadding*2>contentWidth?contentWidth:contentWidth-sidePadding*2,"px");$reviewContentContainer.style.height="".concat($reviewsArray[0].clientHeight,"px");$reviewsArray[0].style.left="-".concat(reviewWidth+reviewGap,"px");$reviewsArray[1].style.left="".concat(0,"px");for(var _i=0;_i<countReviewInContainer-1;_i++){$reviewsArray[_i+2].style.left="".concat((reviewWidth+reviewGap)*(_i+1),"px")}for(var _i2=0;_i2<countReview-countReviewInContainer-1;_i2++){$reviewsArray[countReviewInContainer+_i2+1].style.left="".concat((reviewWidth+reviewGap)*countReviewInContainer,"px")}window.addEventListener("resize",function(){setTimeout(function(){contentWidth=$content.clientWidth-30;reviewWidth=$reviewsArray[0].clientWidth;countReviewInContainer=contentWidth%reviewWidth/(Math.floor(contentWidth/reviewWidth)-1)>=10?Math.floor(contentWidth/reviewWidth):Math.floor(contentWidth/reviewWidth)-1;reviewGap=(contentWidth-reviewWidth*countReviewInContainer)/(countReviewInContainer-1)<25?(contentWidth-reviewWidth*countReviewInContainer)/(countReviewInContainer-1):25;sidePadding=(contentWidth-(countReviewInContainer*reviewWidth+reviewGap*(countReviewInContainer-1)))/2;$reviewContentContainer.style.width="".concat(contentWidth-sidePadding*2>contentWidth?contentWidth:contentWidth-sidePadding*2,"px");$reviewContentContainer.style.height="".concat($reviewsArray[0].clientHeight,"px");$reviewsArray[0].style.left="-".concat(reviewWidth+reviewGap,"px");$reviewsArray[1].style.left="".concat(0,"px");for(var _i3=0;_i3<countReviewInContainer-1;_i3++){$reviewsArray[_i3+2].style.left="".concat((reviewWidth+reviewGap)*(_i3+1),"px")}for(var _i4=0;_i4<countReview-countReviewInContainer-1;_i4++){$reviewsArray[countReviewInContainer+_i4+1].style.left="".concat((reviewWidth+reviewGap)*countReviewInContainer,"px")}},500)});setInterval(slide,5000);function slide(){for(var _i5=0;_i5<countReviewInContainer+1;_i5++){$reviewsArray[_i5+1].style.left="".concat(parseInt($reviewsArray[_i5+1].style.left)-(reviewWidth+reviewGap),"px")}$reviewsArray[0].style.left="".concat((reviewWidth+reviewGap)*countReviewInContainer,"px");$reviewContentContainer.append($reviewsArray[0]);$reviewsArray=$reviewContentContainer.querySelectorAll(".review")}